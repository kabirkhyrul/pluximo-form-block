{"version":3,"file":"form-wrapper/view.js","mappings":"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","sources":["webpack://form-builder-block/./src/form-wrapper/view.js"],"sourcesContent":["/**\n * Form submission handler for Form Builder Block\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\n\ndocument.addEventListener( 'DOMContentLoaded', function () {\n\tconst formWrappers = document.querySelectorAll( '.fbb' );\n\n\tformWrappers.forEach( function ( wrapper ) {\n\t\tconst form = wrapper.querySelector( 'form' );\n\t\tconst submitButton = wrapper.querySelector( '.form-wrapper-submit' );\n\n\t\tif ( ! form || ! submitButton ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Initialize form validation state\n\t\tupdateFormValidation( form, submitButton );\n\n\t\t// Listen for validation changes from text-input blocks\n\t\tform.addEventListener( 'textInputValidationChange', function () {\n\t\t\tupdateFormValidation( form, submitButton );\n\t\t} );\n\n\t\t// Listen for validation changes from textarea blocks\n\t\tform.addEventListener( 'textareaValidationChange', function () {\n\t\t\tupdateFormValidation( form, submitButton );\n\t\t} );\n\n\t\t// Add validation on blur for all text-input fields to show user-friendly messages\n\t\tconst textInputs = form.querySelectorAll( '.text-input-field' );\n\t\ttextInputs.forEach( function ( input ) {\n\t\t\tinput.addEventListener( 'blur', function () {\n\t\t\t\tvalidateInputWithMessages( input );\n\t\t\t\tupdateFormValidation( form, submitButton );\n\t\t\t} );\n\t\t} );\n\n\t\t// Also listen for direct input changes on non-text-input fields (if any exist)\n\t\tconst inputs = form.querySelectorAll( 'input' );\n\t\tinputs.forEach( function ( input ) {\n\t\t\tif ( ! input.classList.contains( 'text-input-field' ) ) {\n\t\t\t\tinput.addEventListener( 'input', function () {\n\t\t\t\t\tupdateFormValidation( form, submitButton );\n\t\t\t\t} );\n\t\t\t\tinput.addEventListener( 'blur', function () {\n\t\t\t\t\tupdateFormValidation( form, submitButton );\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\n\t\t// Add form submission handler\n\t\tsubmitButton.addEventListener( 'click', function ( e ) {\n\t\t\te.preventDefault();\n\t\t\tif ( ! submitButton.disabled ) {\n\t\t\t\thandleFormSubmission( form, submitButton );\n\t\t\t}\n\t\t} );\n\n\t\t// Also handle form submission via Enter key\n\t\tform.addEventListener( 'submit', function ( e ) {\n\t\t\te.preventDefault();\n\t\t\tif ( ! submitButton.disabled ) {\n\t\t\t\thandleFormSubmission( form, submitButton );\n\t\t\t}\n\t\t} );\n\t} );\n\n\t/**\n\t * Update form validation state and submit button\n\t * @param {HTMLElement} form\n\t * @param {HTMLElement} submitButton\n\t */\n\tfunction updateFormValidation( form, submitButton ) {\n\t\tconst isFormValid = checkFormValidity( form );\n\n\t\tif ( isFormValid ) {\n\t\t\t// Enable submit button\n\t\t\tsubmitButton.disabled = false;\n\t\t\tsubmitButton.style.opacity = '1';\n\t\t\tsubmitButton.style.cursor = 'pointer';\n\t\t\tsubmitButton.removeAttribute( 'title' );\n\t\t} else {\n\t\t\t// Disable submit button\n\t\t\tsubmitButton.disabled = true;\n\t\t\tsubmitButton.style.opacity = '0.6';\n\t\t\tsubmitButton.style.cursor = 'not-allowed';\n\t\t\tsubmitButton.setAttribute(\n\t\t\t\t'title',\n\t\t\t\t'Please fill out all required fields correctly'\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Handle form submission\n\t * @param {HTMLElement} form\n\t * @param {HTMLElement} submitButton\n\t */\n\tfunction handleFormSubmission( form, submitButton ) {\n\t\t// Validate form\n\t\tconst validationResult = validateForm( form );\n\t\tif ( ! validationResult.isValid ) {\n\t\t\tshowValidationErrors( form, validationResult.errors );\n\t\t\treturn;\n\t\t}\n\n\t\t// Prevent double submission\n\t\tif ( submitButton.dataset.submitting === 'true' ) {\n\t\t\treturn;\n\t\t}\n\t\tsubmitButton.dataset.submitting = 'true';\n\n\t\t// Collect form data\n\t\tconst formData = collectFormData( form );\n\n\t\t// Show loading state\n\t\tsetLoadingState( submitButton, true );\n\t\tclearValidationErrors( form );\n\n\t\t// Get form attributes for custom messages\n\t\tconst formWrapper = form.closest( '.fbb' );\n\t\tconst successMessage = getFormAttribute(\n\t\t\tformWrapper,\n\t\t\t'success-message'\n\t\t);\n\t\tconst errorMessage = getFormAttribute( formWrapper, 'error-message' );\n\n\t\t// Submit form\n\t\tsubmitForm(\n\t\t\tformData,\n\t\t\tform.id || 'form-wrapper',\n\t\t\tsuccessMessage,\n\t\t\terrorMessage\n\t\t)\n\t\t\t.then( function ( response ) {\n\t\t\t\tif ( response.success ) {\n\t\t\t\t\tshowSuccessMessage(\n\t\t\t\t\t\tform,\n\t\t\t\t\t\tresponse.message || 'Form submitted successfully!'\n\t\t\t\t\t);\n\t\t\t\t\tform.reset();\n\t\t\t\t\t// Re-validate form after reset to ensure submit button state is correct\n\t\t\t\t\tupdateFormValidation( form, submitButton );\n\t\t\t\t} else {\n\t\t\t\t\t// Handle server-side validation errors\n\t\t\t\t\tif (\n\t\t\t\t\t\tresponse.errors &&\n\t\t\t\t\t\ttypeof response.errors === 'object'\n\t\t\t\t\t) {\n\t\t\t\t\t\t// Show individual field errors\n\t\t\t\t\t\tshowServerValidationErrors( form, response.errors );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Show general error message\n\t\t\t\t\t\tshowErrorMessage(\n\t\t\t\t\t\t\tform,\n\t\t\t\t\t\t\tresponse.message ||\n\t\t\t\t\t\t\t\t'Form submission failed. Please try again.'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\t// Re-validate form to disable submit button if there are errors\n\t\t\t\t\tupdateFormValidation( form, submitButton );\n\t\t\t\t}\n\t\t\t} )\n\t\t\t.catch( function () {\n\t\t\t\t// Error logged internally - no console output for production\n\t\t\t\tshowErrorMessage(\n\t\t\t\t\tform,\n\t\t\t\t\t'An error occurred. Please try again.'\n\t\t\t\t);\n\t\t\t\t// Re-validate form to ensure proper button state\n\t\t\t\tupdateFormValidation( form, submitButton );\n\t\t\t} )\n\t\t\t.finally( function () {\n\t\t\t\tsetLoadingState( submitButton, false );\n\t\t\t\tsubmitButton.dataset.submitting = 'false';\n\t\t\t} );\n\t}\n\n\t/**\n\t * Collect form data from all form inputs\n\t * @param {HTMLElement} form\n\t */\n\tfunction collectFormData( form ) {\n\t\tconst data = {};\n\t\tconst formElements = form.querySelectorAll(\n\t\t\t'input[type=\"text\"], input[type=\"email\"], input[type=\"password\"], input[type=\"url\"], input[type=\"tel\"], textarea'\n\t\t);\n\n\t\tformElements.forEach( function ( element ) {\n\t\t\tconst fieldId = element.id || element.name;\n\t\t\tif ( fieldId ) {\n\t\t\t\tdata[ fieldId ] = element.value.trim();\n\t\t\t}\n\t\t} );\n\n\t\treturn data;\n\t}\n\n\t/**\n\t * Check form validity by validating each input based on its type\n\t * @param {HTMLElement} form\n\t */\n\tfunction checkFormValidity( form ) {\n\t\t// Check if there are any visible error messages from text-input or textarea validation\n\t\tconst errorMessages = form.querySelectorAll( '.text-input-error, .textarea-error' );\n\t\tif ( errorMessages.length > 0 ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Check if any inputs have error styling (red border indicates validation failure)\n\t\tconst errorInputs = form.querySelectorAll( '.border-red-500' );\n\t\tif ( errorInputs.length > 0 ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Validate each input and textarea based on its type and validation rules\n\t\tconst formElements = form.querySelectorAll(\n\t\t\t'input[type=\"text\"], input[type=\"email\"], input[type=\"password\"], input[type=\"url\"], input[type=\"tel\"], textarea'\n\t\t);\n\t\tfor ( const element of formElements ) {\n\t\t\tif ( ! validateInputByType( element ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Validate individual input based on its type and attributes\n\t * @param {HTMLInputElement} input\n\t */\n\tfunction validateInputByType( input ) {\n\t\tconst value = ( input.value || '' ).trim();\n\n\t\t// Check required\n\t\tif ( input.required && ! value ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Skip other validations if field is empty and not required\n\t\tif ( ! value && ! input.required ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Check minimum length\n\t\tconst minLength = input.getAttribute( 'minLength' );\n\t\tif ( minLength && value.length < parseInt( minLength ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Check maximum length\n\t\tconst maxLength = input.getAttribute( 'maxLength' );\n\t\tif ( maxLength && value.length > parseInt( maxLength ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Check pattern\n\t\tconst pattern = input.getAttribute( 'pattern' );\n\t\tif ( pattern && value ) {\n\t\t\tconst regex = new RegExp( pattern );\n\t\t\tif ( ! regex.test( value ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\t// Type-specific validation\n\t\tswitch ( input.type ) {\n\t\t\tcase 'email':\n\t\t\t\treturn isValidEmail( value );\n\t\t\tcase 'url':\n\t\t\t\treturn isValidUrl( value );\n\t\t\tcase 'tel':\n\t\t\t\treturn isValidTel( value );\n\t\t\tdefault:\n\t\t\t\treturn true;\n\t\t}\n\t}\n\n\t/**\n\t * Validate input and show user-friendly error messages on blur\n\t * @param {HTMLInputElement} input\n\t */\n\tfunction validateInputWithMessages( input ) {\n\t\tconst value = ( input.value || '' ).trim();\n\n\t\t// Clear any existing errors first\n\t\tclearInputErrors( input );\n\n\t\t// If empty and not required, reset field to neutral state\n\t\tif ( ! value && ! input.required ) {\n\t\t\tresetInputField( input );\n\t\t\treturn true;\n\t\t}\n\n\t\tconst customInvalidMessage = input.getAttribute(\n\t\t\t'data-invalid-message'\n\t\t);\n\n\t\t// Check required\n\t\tif ( input.required && ! value ) {\n\t\t\tshowInputError(\n\t\t\t\tinput,\n\t\t\t\tcustomInvalidMessage || getErrorMessage( 'required' )\n\t\t\t);\n\t\t\treturn false;\n\t\t}\n\n\t\t// Skip other validations if field is empty\n\t\tif ( ! value ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Check minimum length\n\t\tconst minLength = input.getAttribute( 'minLength' );\n\t\tif ( minLength && value.length < parseInt( minLength ) ) {\n\t\t\tshowInputError(\n\t\t\t\tinput,\n\t\t\t\tcustomInvalidMessage ||\n\t\t\t\t\tgetErrorMessage( 'minLength', minLength )\n\t\t\t);\n\t\t\treturn false;\n\t\t}\n\n\t\t// Check maximum length\n\t\tconst maxLength = input.getAttribute( 'maxLength' );\n\t\tif ( maxLength && value.length > parseInt( maxLength ) ) {\n\t\t\tshowInputError(\n\t\t\t\tinput,\n\t\t\t\tcustomInvalidMessage ||\n\t\t\t\t\tgetErrorMessage( 'maxLength', maxLength )\n\t\t\t);\n\t\t\treturn false;\n\t\t}\n\n\t\t// Check pattern\n\t\tconst pattern = input.getAttribute( 'pattern' );\n\t\tif ( pattern && value ) {\n\t\t\tconst regex = new RegExp( pattern );\n\t\t\tif ( ! regex.test( value ) ) {\n\t\t\t\tshowInputError(\n\t\t\t\t\tinput,\n\t\t\t\t\tcustomInvalidMessage || getErrorMessage( 'pattern' )\n\t\t\t\t);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\t// Type-specific validation with user-friendly messages\n\t\tswitch ( input.type ) {\n\t\t\tcase 'email':\n\t\t\t\tif ( ! isValidEmail( value ) ) {\n\t\t\t\t\tshowInputError(\n\t\t\t\t\t\tinput,\n\t\t\t\t\t\tcustomInvalidMessage || getErrorMessage( 'email' )\n\t\t\t\t\t);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'url':\n\t\t\t\tif ( ! isValidUrl( value ) ) {\n\t\t\t\t\tshowInputError(\n\t\t\t\t\t\tinput,\n\t\t\t\t\t\tcustomInvalidMessage || getErrorMessage( 'url' )\n\t\t\t\t\t);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'tel':\n\t\t\t\tif ( ! isValidTel( value ) ) {\n\t\t\t\t\tshowInputError(\n\t\t\t\t\t\tinput,\n\t\t\t\t\t\tcustomInvalidMessage || getErrorMessage( 'tel' )\n\t\t\t\t\t);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t\t// All validations passed - show success if there's a custom valid message\n\t\tconst customValidMessage = input.getAttribute( 'data-valid-message' );\n\t\tif ( customValidMessage ) {\n\t\t\tshowInputSuccess( input, customValidMessage );\n\t\t} else {\n\t\t\tresetInputField( input );\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Basic form validation (text-input blocks handle their own validation)\n\t * @param {Element} form - The form element\n\t */\n\tfunction validateForm( form ) {\n\t\t// Let text-input blocks handle their own validation\n\t\t// Just check if form has any validation errors already visible\n\t\tconst existingErrors = form.querySelectorAll( '.field-error' );\n\t\treturn {\n\t\t\tisValid: existingErrors.length === 0,\n\t\t\terrors: {},\n\t\t};\n\t}\n\n\t/**\n\t * Submit form data to REST API endpoint\n\t * @param {Object} formData\n\t * @param {string} formId\n\t * @param {string} successMessage\n\t * @param {string} errorMessage\n\t */\n\tfunction submitForm( formData, formId, successMessage, errorMessage ) {\n\t\tconst apiUrl = window.formBuilderAjax\n\t\t\t? window.formBuilderAjax.apiUrl\n\t\t\t: ( window.wpApiSettings?.root || '/wp-json/' ) +\n\t\t\t  'form-builder/v1/submit';\n\t\tconst nonce = window.formBuilderAjax\n\t\t\t? window.formBuilderAjax.nonce\n\t\t\t: '';\n\n\t\t// Require valid nonce for security\n\t\tif ( ! nonce ) {\n\t\t\tthrow new Error( 'Security validation failed' );\n\t\t}\n\n\t\tconst requestBody = {\n\t\t\tform_data: formData,\n\t\t\tform_id: formId,\n\t\t};\n\n\t\t// Add custom messages if provided\n\t\tif ( successMessage ) {\n\t\t\trequestBody.success_message = successMessage;\n\t\t}\n\t\tif ( errorMessage ) {\n\t\t\trequestBody.error_message = errorMessage;\n\t\t}\n\n\t\treturn fetch( apiUrl, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'X-WP-Nonce': nonce,\n\t\t\t},\n\t\t\tbody: JSON.stringify( requestBody ),\n\t\t} ).then( function ( response ) {\n\t\t\tif ( ! response.ok ) {\n\t\t\t\tthrow new Error( `HTTP error! status: ${ response.status }` );\n\t\t\t}\n\t\t\treturn response.json();\n\t\t} );\n\t}\n\n\t/**\n\t * Show validation errors\n\t * @param {HTMLElement} form\n\t * @param {Object}      errors\n\t */\n\tfunction showValidationErrors( form, errors ) {\n\t\tObject.keys( errors ).forEach( function ( fieldId ) {\n\t\t\tconst input = form.querySelector(\n\t\t\t\t`#${ fieldId }, [name=\"${ fieldId }\"]`\n\t\t\t);\n\t\t\tif ( input ) {\n\t\t\t\tshowFieldError( input, errors[ fieldId ] );\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * Show server-side validation errors\n\t * @param {HTMLElement} form\n\t * @param {Object}      errors\n\t */\n\tfunction showServerValidationErrors( form, errors ) {\n\t\tObject.keys( errors ).forEach( function ( fieldId ) {\n\t\t\tconst input = form.querySelector(\n\t\t\t\t`#${ fieldId }, [name=\"${ fieldId }\"]`\n\t\t\t);\n\t\t\tif ( input ) {\n\t\t\t\tconst errorMessage = Array.isArray( errors[ fieldId ] )\n\t\t\t\t\t? errors[ fieldId ][ 0 ]\n\t\t\t\t\t: errors[ fieldId ];\n\t\t\t\tshowFieldError( input, errorMessage );\n\t\t\t}\n\t\t} );\n\n\t\t// Trigger custom event to notify form wrapper of validation change\n\t\tconst event = new CustomEvent( 'textInputValidationChange', {\n\t\t\tbubbles: true,\n\t\t} );\n\t\tform.dispatchEvent( event );\n\t}\n\n\t/**\n\t * Show field error\n\t * @param {HTMLInputElement} input\n\t * @param {string}           message\n\t */\n\tfunction showFieldError( input, message ) {\n\t\t// For text-input fields, use their error display system\n\t\tif ( input.classList.contains( 'text-input-field' ) ) {\n\t\t\t// Remove existing errors first\n\t\t\tconst existingErrors =\n\t\t\t\tinput.parentNode.parentNode.querySelectorAll(\n\t\t\t\t\t'.text-input-error'\n\t\t\t\t);\n\t\t\texistingErrors.forEach( function ( error ) {\n\t\t\t\terror.remove();\n\t\t\t} );\n\n\t\t\t// Add error styling consistent with text-input validation\n\t\t\tinput.classList.add(\n\t\t\t\t'border-red-500',\n\t\t\t\t'focus:border-red-500',\n\t\t\t\t'focus:ring-red-500'\n\t\t\t);\n\t\t\tinput.classList.remove(\n\t\t\t\t'border-gray-200',\n\t\t\t\t'focus:border-blue-500',\n\t\t\t\t'focus:ring-blue-500',\n\t\t\t\t'border-teal-500'\n\t\t\t);\n\n\t\t\t// Create and show error message using text-input error format\n\t\t\tconst errorElement = document.createElement( 'p' );\n\t\t\terrorElement.className = 'text-input-error';\n\t\t\terrorElement.textContent = message;\n\t\t\tinput.parentNode.parentNode.appendChild( errorElement );\n\t\t} else {\n\t\t\t// For other inputs, use the generic field error system\n\t\t\tconst existingError =\n\t\t\t\tinput.parentNode.querySelector( '.field-error' );\n\t\t\tif ( existingError ) {\n\t\t\t\texistingError.remove();\n\t\t\t}\n\n\t\t\t// Add error class to input\n\t\t\tinput.classList.add( 'error' );\n\n\t\t\t// Create and show error message\n\t\t\tconst errorElement = document.createElement( 'p' );\n\t\t\terrorElement.className = 'field-error';\n\t\t\terrorElement.textContent = message;\n\t\t\tinput.parentNode.appendChild( errorElement );\n\t\t}\n\t}\n\n\t/**\n\t * Clear validation errors\n\t * @param {HTMLElement} form\n\t */\n\tfunction clearValidationErrors( form ) {\n\t\t// Remove error classes\n\t\tconst errorInputs = form.querySelectorAll( '.error' );\n\t\terrorInputs.forEach( function ( input ) {\n\t\t\tinput.classList.remove( 'error' );\n\t\t} );\n\n\t\t// Remove error messages\n\t\tconst errorMessages = form.querySelectorAll( '.field-error' );\n\t\terrorMessages.forEach( function ( error ) {\n\t\t\terror.remove();\n\t\t} );\n\n\t\t// Remove form messages\n\t\tconst formMessages = form.querySelectorAll( '.form-message' );\n\t\tformMessages.forEach( function ( message ) {\n\t\t\tmessage.remove();\n\t\t} );\n\t}\n\n\t/**\n\t * Show success message\n\t * @param {HTMLElement} form\n\t * @param {string}      message\n\t */\n\tfunction showSuccessMessage( form, message ) {\n\t\tconst wrapper = form.closest( '.fbb' );\n\t\tconst successElement = wrapper.querySelector( '#success-message' );\n\t\tconst successText = wrapper.querySelector( '#success-text' );\n\t\tconst errorElement = wrapper.querySelector( '#error-message' );\n\n\t\tif ( successElement && successText ) {\n\t\t\tsuccessText.textContent = message;\n\t\t\tsuccessElement.classList.remove( 'hidden' );\n\t\t}\n\n\t\t// Hide error message if visible\n\t\tif ( errorElement ) {\n\t\t\terrorElement.classList.add( 'hidden' );\n\t\t}\n\n\t\t// Auto-hide success message after 5 seconds\n\t\tsetTimeout( function () {\n\t\t\tif ( successElement ) {\n\t\t\t\tsuccessElement.classList.add( 'hidden' );\n\t\t\t}\n\t\t}, 5000 );\n\t}\n\n\t/**\n\t * Show error message\n\t * @param {HTMLElement} form\n\t * @param {string}      message\n\t */\n\tfunction showErrorMessage( form, message ) {\n\t\tconst wrapper = form.closest( '.fbb' );\n\t\tconst errorElement = wrapper.querySelector( '#error-message' );\n\t\tconst errorText = wrapper.querySelector( '#error-text' );\n\t\tconst successElement = wrapper.querySelector( '#success-message' );\n\n\t\tif ( errorElement && errorText ) {\n\t\t\terrorText.textContent = message;\n\t\t\terrorElement.classList.remove( 'hidden' );\n\t\t}\n\n\t\t// Hide success message if visible\n\t\tif ( successElement ) {\n\t\t\tsuccessElement.classList.add( 'hidden' );\n\t\t}\n\t}\n\n\t/**\n\t * Set loading state for submit button\n\t * @param {HTMLElement} submitButton\n\t * @param {boolean}     isLoading\n\t */\n\tfunction setLoadingState( submitButton, isLoading ) {\n\t\tconst form = submitButton.closest( 'form' );\n\t\tconst loaderButton = form.querySelector( '.form-wrapper-loader' );\n\n\t\tif ( isLoading ) {\n\t\t\t// Hide submit button and show loader button\n\t\t\tif ( submitButton ) {\n\t\t\t\tsubmitButton.classList.add( 'hidden' );\n\t\t\t}\n\t\t\tif ( loaderButton ) {\n\t\t\t\tloaderButton.classList.remove( 'hidden' );\n\t\t\t\tloaderButton.disabled = true;\n\t\t\t}\n\t\t} else {\n\t\t\t// Show submit button and hide loader button\n\t\t\tif ( submitButton ) {\n\t\t\t\tsubmitButton.classList.remove( 'hidden' );\n\t\t\t}\n\t\t\tif ( loaderButton ) {\n\t\t\t\tloaderButton.classList.add( 'hidden' );\n\t\t\t\tloaderButton.disabled = false;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Validate email format\n\t * @param {string} email\n\t */\n\tfunction isValidEmail( email ) {\n\t\tconst emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n\t\treturn emailRegex.test( email );\n\t}\n\n\t/**\n\t * Validate URL format\n\t * @param {string} url\n\t */\n\tfunction isValidUrl( url ) {\n\t\ttry {\n\t\t\tnew URL( url );\n\t\t\treturn true;\n\t\t} catch ( e ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n\t * Validate telephone number format (basic validation)\n\t * @param {string} tel\n\t */\n\tfunction isValidTel( tel ) {\n\t\t// Basic tel validation - allow numbers, spaces, dashes, parentheses, plus sign\n\t\tconst telRegex = /^[\\+]?[0-9\\s\\-\\(\\)]+$/;\n\t\treturn telRegex.test( tel ) && tel.replace( /[^\\d]/g, '' ).length >= 7;\n\t}\n\n\t/**\n\t * Get user-friendly error message based on validation type\n\t * @param {string} type\n\t * @param {string} value\n\t */\n\tfunction getErrorMessage( type, value ) {\n\t\t// Use localized messages from PHP wp_localize_script\n\t\tconst messages = window.formBuilderAjax?.messages || {};\n\n\t\tswitch ( type ) {\n\t\t\tcase 'required':\n\t\t\t\treturn messages.required || 'This field is required.';\n\t\t\tcase 'minLength':\n\t\t\t\treturn (\n\t\t\t\t\tmessages.minLength || 'Please enter at least %d characters.'\n\t\t\t\t).replace( '%d', value );\n\t\t\tcase 'maxLength':\n\t\t\t\treturn (\n\t\t\t\t\tmessages.maxLength ||\n\t\t\t\t\t'Please enter no more than %d characters.'\n\t\t\t\t).replace( '%d', value );\n\t\t\tcase 'pattern':\n\t\t\t\treturn messages.pattern || 'Please enter a valid value.';\n\t\t\tcase 'email':\n\t\t\t\treturn (\n\t\t\t\t\tmessages.email ||\n\t\t\t\t\t'Please enter a valid email address (e.g., user@example.com).'\n\t\t\t\t);\n\t\t\tcase 'url':\n\t\t\t\treturn (\n\t\t\t\t\tmessages.url ||\n\t\t\t\t\t'Please enter a valid URL (e.g., https://example.com).'\n\t\t\t\t);\n\t\t\tcase 'tel':\n\t\t\t\treturn (\n\t\t\t\t\tmessages.tel ||\n\t\t\t\t\t'Please enter a valid phone number (e.g., +1-234-567-8900).'\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn messages.default || 'Please enter a valid value.';\n\t\t}\n\t}\n\n\t/**\n\t * Show error message for input field\n\t * @param {HTMLInputElement} input\n\t * @param {string}           message\n\t */\n\tfunction showInputError( input, message ) {\n\t\t// Remove existing errors first\n\t\tclearInputErrors( input );\n\n\t\t// Add error styling\n\t\tinput.classList.add(\n\t\t\t'border-red-500',\n\t\t\t'focus:border-red-500',\n\t\t\t'focus:ring-red-500'\n\t\t);\n\t\tinput.classList.remove(\n\t\t\t'border-gray-200',\n\t\t\t'focus:border-blue-500',\n\t\t\t'focus:ring-blue-500',\n\t\t\t'border-teal-500'\n\t\t);\n\n\t\t// Create and show error message\n\t\tconst errorElement = document.createElement( 'p' );\n\t\terrorElement.className = 'text-input-error';\n\t\terrorElement.textContent = message;\n\t\tinput.parentNode.parentNode.appendChild( errorElement );\n\n\t\t// Trigger validation update\n\t\tconst form = input.closest( 'form' );\n\t\tif ( form ) {\n\t\t\tconst event = new CustomEvent( 'textInputValidationChange', {\n\t\t\t\tbubbles: true,\n\t\t\t} );\n\t\t\tform.dispatchEvent( event );\n\t\t}\n\t}\n\n\t/**\n\t * Show success message for input field\n\t * @param {HTMLInputElement} input\n\t * @param {string}           message\n\t */\n\tfunction showInputSuccess( input, message ) {\n\t\t// Remove existing errors first\n\t\tclearInputErrors( input );\n\n\t\t// Add success styling\n\t\tinput.classList.add(\n\t\t\t'border-teal-500',\n\t\t\t'focus:border-teal-500',\n\t\t\t'focus:ring-teal-500'\n\t\t);\n\t\tinput.classList.remove(\n\t\t\t'border-gray-200',\n\t\t\t'focus:border-blue-500',\n\t\t\t'focus:ring-blue-500',\n\t\t\t'border-red-500'\n\t\t);\n\n\t\t// Create and show success message\n\t\tconst successElement = document.createElement( 'p' );\n\t\tsuccessElement.className = 'text-input-success';\n\t\tsuccessElement.textContent = message;\n\t\tinput.parentNode.parentNode.appendChild( successElement );\n\n\t\t// Trigger validation update\n\t\tconst form = input.closest( 'form' );\n\t\tif ( form ) {\n\t\t\tconst event = new CustomEvent( 'textInputValidationChange', {\n\t\t\t\tbubbles: true,\n\t\t\t} );\n\t\t\tform.dispatchEvent( event );\n\t\t}\n\t}\n\n\t/**\n\t * Reset input field to neutral state\n\t * @param {HTMLInputElement} input\n\t */\n\tfunction resetInputField( input ) {\n\t\t// Remove existing messages\n\t\tclearInputErrors( input );\n\n\t\t// Reset styling to neutral\n\t\tinput.classList.remove(\n\t\t\t'border-red-500',\n\t\t\t'focus:border-red-500',\n\t\t\t'focus:ring-red-500',\n\t\t\t'border-teal-500',\n\t\t\t'focus:border-teal-500',\n\t\t\t'focus:ring-teal-500'\n\t\t);\n\t\tinput.classList.add(\n\t\t\t'border-gray-200',\n\t\t\t'focus:border-blue-500',\n\t\t\t'focus:ring-blue-500'\n\t\t);\n\n\t\t// Trigger validation update\n\t\tconst form = input.closest( 'form' );\n\t\tif ( form ) {\n\t\t\tconst event = new CustomEvent( 'textInputValidationChange', {\n\t\t\t\tbubbles: true,\n\t\t\t} );\n\t\t\tform.dispatchEvent( event );\n\t\t}\n\t}\n\n\t/**\n\t * Clear input errors and success messages\n\t * @param {HTMLInputElement} input\n\t */\n\tfunction clearInputErrors( input ) {\n\t\t// Remove error messages\n\t\tconst errorMessages =\n\t\t\tinput.parentNode.parentNode.querySelectorAll( '.text-input-error' );\n\t\terrorMessages.forEach( function ( error ) {\n\t\t\terror.remove();\n\t\t} );\n\n\t\t// Remove success messages\n\t\tconst successMessages = input.parentNode.parentNode.querySelectorAll(\n\t\t\t'.text-input-success'\n\t\t);\n\t\tsuccessMessages.forEach( function ( success ) {\n\t\t\tsuccess.remove();\n\t\t} );\n\t}\n\n\t/**\n\t * Get form attribute value from wrapper element\n\t * @param {HTMLElement} formWrapper\n\t * @param {string}      attributeName\n\t */\n\tfunction getFormAttribute( formWrapper, attributeName ) {\n\t\tif ( ! formWrapper ) {\n\t\t\treturn null;\n\t\t}\n\t\treturn formWrapper.getAttribute( 'data-' + attributeName ) || null;\n\t}\n} );\n"],"names":["document","addEventListener","formWrappers","querySelectorAll","forEach","wrapper","form","querySelector","submitButton","updateFormValidation","textInputs","input","validateInputWithMessages","inputs","classList","contains","e","preventDefault","disabled","handleFormSubmission","isFormValid","checkFormValidity","style","opacity","cursor","removeAttribute","setAttribute","validationResult","validateForm","isValid","showValidationErrors","errors","dataset","submitting","formData","collectFormData","setLoadingState","clearValidationErrors","formWrapper","closest","successMessage","getFormAttribute","errorMessage","submitForm","id","then","response","success","showSuccessMessage","message","reset","showServerValidationErrors","showErrorMessage","catch","finally","data","formElements","element","fieldId","name","value","trim","errorMessages","length","errorInputs","validateInputByType","required","minLength","getAttribute","parseInt","maxLength","pattern","regex","RegExp","test","type","isValidEmail","isValidUrl","isValidTel","clearInputErrors","resetInputField","customInvalidMessage","showInputError","getErrorMessage","customValidMessage","showInputSuccess","existingErrors","formId","apiUrl","window","formBuilderAjax","wpApiSettings","root","nonce","Error","requestBody","form_data","form_id","success_message","error_message","fetch","method","headers","body","JSON","stringify","ok","status","json","Object","keys","showFieldError","Array","isArray","event","CustomEvent","bubbles","dispatchEvent","parentNode","error","remove","add","errorElement","createElement","className","textContent","appendChild","existingError","formMessages","successElement","successText","setTimeout","errorText","isLoading","loaderButton","email","emailRegex","url","URL","tel","telRegex","replace","messages","default","successMessages","attributeName"],"sourceRoot":""}
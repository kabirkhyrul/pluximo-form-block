{"version":3,"file":"text-input/view.js","mappings":"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","sources":["webpack://form-builder-block/./src/text-input/shared/validation.js","webpack://form-builder-block/webpack/bootstrap","webpack://form-builder-block/webpack/runtime/define property getters","webpack://form-builder-block/webpack/runtime/hasOwnProperty shorthand","webpack://form-builder-block/webpack/runtime/make namespace object","webpack://form-builder-block/./src/text-input/view.js"],"sourcesContent":["/**\n * Shared validation logic for text input fields\n * Centralized validation functions to avoid duplication\n */\n\n/**\n * Client-side validation setup for text input fields\n * @param {string} selector - CSS selector for input fields\n */\nexport function setupTextInputValidation( selector = '.text-input-field' ) {\n\tdocument.addEventListener( 'DOMContentLoaded', function () {\n\t\tconst textInputs = document.querySelectorAll( selector );\n\n\t\ttextInputs.forEach( function ( input ) {\n\t\t\tconst validationHandler = new TextInputValidationHandler( input );\n\t\t\tvalidationHandler.init();\n\t\t} );\n\t} );\n}\n\n/**\n * Text Input Validation Handler Class\n * Handles all validation logic for a single text input field\n */\nexport class TextInputValidationHandler {\n\tconstructor( input ) {\n\t\tthis.input = input;\n\t\tthis.validMessage = input.getAttribute( 'data-valid-message' );\n\t\tthis.invalidMessage = input.getAttribute( 'data-invalid-message' );\n\t\tthis.errorElement = null;\n\t\tthis.successElement = null;\n\t}\n\n\tinit() {\n\t\tthis.input.addEventListener( 'blur', () => this.validateInput() );\n\t\tthis.input.addEventListener( 'input', () => {\n\t\t\tif ( this.errorElement ) {\n\t\t\t\tthis.validateInput();\n\t\t\t}\n\t\t} );\n\n\t\tconst form = this.input.closest( 'form' );\n\t\tif ( form ) {\n\t\t\tform.addEventListener( 'submit', ( e ) => {\n\t\t\t\tif ( ! this.validateInput() ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.input.focus();\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\tshowError( message ) {\n\t\tthis.hideError();\n\t\tthis.hideSuccess();\n\t\tthis.errorElement = document.createElement( 'p' );\n\t\tthis.errorElement.className = 'text-input-error';\n\t\tthis.errorElement.textContent = message;\n\t\tthis.input.parentNode.parentNode.appendChild( this.errorElement );\n\t\tthis.input.classList.add(\n\t\t\t'border-red-500',\n\t\t\t'focus:border-red-500',\n\t\t\t'focus:ring-red-500'\n\t\t);\n\t\tthis.input.classList.remove(\n\t\t\t'border-gray-200',\n\t\t\t'focus:border-blue-500',\n\t\t\t'focus:ring-blue-500',\n\t\t\t'border-teal-500'\n\t\t);\n\t\tthis.triggerFormValidationUpdate();\n\t}\n\n\tshowSuccess( message ) {\n\t\tthis.hideError();\n\t\tthis.hideSuccess();\n\t\tif ( message ) {\n\t\t\tthis.successElement = document.createElement( 'p' );\n\t\t\tthis.successElement.className = 'text-input-success';\n\t\t\tthis.successElement.textContent = message;\n\t\t\tthis.input.parentNode.parentNode.appendChild( this.successElement );\n\t\t}\n\t\tthis.input.classList.add(\n\t\t\t'border-teal-500',\n\t\t\t'focus:border-teal-500',\n\t\t\t'focus:ring-teal-500'\n\t\t);\n\t\tthis.input.classList.remove(\n\t\t\t'border-gray-200',\n\t\t\t'focus:border-blue-500',\n\t\t\t'focus:ring-blue-500',\n\t\t\t'border-red-500'\n\t\t);\n\t\tthis.triggerFormValidationUpdate();\n\t}\n\n\thideError() {\n\t\tif ( this.errorElement ) {\n\t\t\tthis.errorElement.remove();\n\t\t\tthis.errorElement = null;\n\t\t}\n\t}\n\n\thideSuccess() {\n\t\tif ( this.successElement ) {\n\t\t\tthis.successElement.remove();\n\t\t\tthis.successElement = null;\n\t\t}\n\t}\n\n\tresetField() {\n\t\tthis.hideError();\n\t\tthis.hideSuccess();\n\t\tthis.input.classList.remove(\n\t\t\t'border-red-500',\n\t\t\t'focus:border-red-500',\n\t\t\t'focus:ring-red-500',\n\t\t\t'border-teal-500',\n\t\t\t'focus:border-teal-500',\n\t\t\t'focus:ring-teal-500'\n\t\t);\n\t\tthis.input.classList.add(\n\t\t\t'border-gray-200',\n\t\t\t'focus:border-blue-500',\n\t\t\t'focus:ring-blue-500'\n\t\t);\n\t\tthis.triggerFormValidationUpdate();\n\t}\n\n\ttriggerFormValidationUpdate() {\n\t\tconst form = this.input.closest( 'form' );\n\t\tif ( form ) {\n\t\t\tconst event = new CustomEvent( 'textInputValidationChange', {\n\t\t\t\tbubbles: true,\n\t\t\t} );\n\t\t\tform.dispatchEvent( event );\n\t\t}\n\t}\n\n\tvalidateInput() {\n\t\tconst value = this.input.value;\n\n\t\tif ( ! value.trim() && ! this.input.required ) {\n\t\t\tthis.resetField();\n\t\t\treturn true;\n\t\t}\n\n\t\tif ( this.input.required && ! value.trim() ) {\n\t\t\tthis.showError( this.invalidMessage || 'This field is required.' );\n\t\t\treturn false;\n\t\t}\n\n\t\tconst minLength = this.input.getAttribute( 'minLength' );\n\t\tif ( minLength && value.length < parseInt( minLength ) ) {\n\t\t\tthis.showError(\n\t\t\t\tthis.invalidMessage ||\n\t\t\t\t\t`Minimum length is ${ minLength } characters.`\n\t\t\t);\n\t\t\treturn false;\n\t\t}\n\n\t\tconst maxLength = this.input.getAttribute( 'maxLength' );\n\t\tif ( maxLength && value.length > parseInt( maxLength ) ) {\n\t\t\tthis.showError(\n\t\t\t\tthis.invalidMessage ||\n\t\t\t\t\t`Maximum length is ${ maxLength } characters.`\n\t\t\t);\n\t\t\treturn false;\n\t\t}\n\n\t\tconst pattern = this.input.getAttribute( 'pattern' );\n\t\tif ( pattern && value && ! new RegExp( pattern ).test( value ) ) {\n\t\t\tthis.showError(\n\t\t\t\tthis.invalidMessage || 'Please enter a valid value.'\n\t\t\t);\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( value.trim() ) {\n\t\t\tthis.showSuccess( this.validMessage );\n\t\t} else {\n\t\t\tthis.resetField();\n\t\t}\n\t\treturn true;\n\t}\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Client-side validation for text input fields\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\n\nimport { setupTextInputValidation } from './shared/validation.js';\n\nsetupTextInputValidation( '.text-input-field' );\n"],"names":["setupTextInputValidation","selector","document","addEventListener","textInputs","querySelectorAll","forEach","input","validationHandler","TextInputValidationHandler","init","constructor","validMessage","getAttribute","invalidMessage","errorElement","successElement","validateInput","form","closest","e","preventDefault","focus","showError","message","hideError","hideSuccess","createElement","className","textContent","parentNode","appendChild","classList","add","remove","triggerFormValidationUpdate","showSuccess","resetField","event","CustomEvent","bubbles","dispatchEvent","value","trim","required","minLength","length","parseInt","maxLength","pattern","RegExp","test"],"sourceRoot":""}